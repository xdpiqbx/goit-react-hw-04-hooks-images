(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3JJHC",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__23u-C"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1A9Lw",Modal:"Modal_Modal__2LUw9"}},13:function(e,t,a){e.exports={Button:"Button_Button__2q4qS"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__21_cI"}},15:function(e,t,a){e.exports={wrapper:"Container_wrapper__2Kpao"}},21:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1ORio",SearchForm:"Searchbar_SearchForm__2-ut5",SearchFormButton:"Searchbar_SearchFormButton__3nj9b",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2bRw7",SearchFormInput:"Searchbar_SearchFormInput__i7Vn2"}},43:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),o=a(6),i=a.n(o),l=(a(21),a(3)),s=a(4),u=a.n(s),j=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),r=a[0],o=a[1];return Object(n.jsx)("header",{className:u.a.Searchbar,children:Object(n.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(t){t.preventDefault(),e.onSubmitHandler(r),o("")},children:[Object(n.jsx)("input",{className:u.a.SearchFormInput,type:"text",onChange:function(e){o(e.target.value)},value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}),Object(n.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(n.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})})]})})},b=a(12),m=a(10),h=a.n(m);function d(e){var t=e.smallImg,a=e.bigImg,c=e.tags;return Object(n.jsx)("li",{className:h.a.ImageGalleryItem,children:Object(n.jsx)("img",{src:t,alt:c,"data-big":a,className:h.a.ImageGalleryItemImage,onClick:e.onClick})})}var g=a(13),O=a.n(g);function f(e){return Object(n.jsx)("button",{type:"button",className:O.a.Button,onClick:e.onPageChange,children:"Load more"})}var p=a(8),S=a.n(p),_=a.p+"static/media/cat.c79bab9c.jpg",x=a(14),v=a.n(x);var I=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),r=a[0],o=a[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),u=s[0],j=s[1],m=Object(c.useState)("idle"),h=Object(l.a)(m,2),g=h[0],O=h[1],p=Object(c.useState)(1),x=Object(l.a)(p,2),I=x[0],y=x[1];Object(c.useEffect)((function(){e.query&&(O("pending"),function(e,t){var a=["q=".concat(e),"page=".concat(t),"key=".concat("18591857-af67bc0007236afb4a9ddb74e"),"image_type=photo","orientation=horizontal","per_page=12"];return fetch("".concat("https://pixabay.com/api/","?").concat(a.join("&"))).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a ".concat(e)))}))}(e.query,I).then((function(t){u===e.query?o((function(e){return[].concat(Object(b.a)(e),Object(b.a)(t.hits))})):o(t.hits),O("resolved"),j(e.query)})).catch((function(e){return O("rejected")})))}),[I,e.query]);var F=function(t){var a=t.target,n=a.dataset,c=a.alt;e.getContentForModal(n.big,c)};return 0===r.length&&"resolved"===g?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"\u041f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(n.jsx)("p",{children:"\u041d\u0435 \u043e\u0433\u043e\u0447\u0430\u0439\u0442\u0435\u0441\u044c. \u0412\u043e\u0442 \u0412\u0430\u043c \u043a\u043e\u0442\u0438\u043a =)"}),Object(n.jsx)("img",{src:_,alt:"cat",width:"500"})]}):"resolved"===g||"pending"===g?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("ul",{className:v.a.ImageGallery,children:r.map((function(e){var t=e.id,a=e.webformatURL,c=e.largeImageURL,r=e.tags;return Object(n.jsx)(d,{smallImg:a,bigImg:c,tags:r,onClick:F},t)}))}),"pending"===g?Object(n.jsx)(S.a,{type:"RevolvingDot",color:"#00BFFF",height:100,width:100}):Object(n.jsx)(f,{onPageChange:function(){y((function(e){return e+1}))}}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})]}):"idle"===g?Object(n.jsx)("h1",{children:"\u0414\u0430\u0432\u0430\u0439 \u0438\u0441\u043a\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 =)"}):"rejected"===g?Object(n.jsx)("h1",{children:"Oh no =("}):void 0},y=a(15),F=a.n(y);function w(e){return Object(n.jsx)("div",{className:F.a.wrapper,children:e.children})}var C=a(11),B=a.n(C),k=document.querySelector("#modal"),L=function(e){var t=Object(c.useState)("loading"),a=Object(l.a)(t,2),r=a[0],i=a[1];Object(c.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(t){"Escape"===t.code&&e.onClose()},u=e.src,j=e.alt;return Object(o.createPortal)(Object(n.jsx)("div",{className:B.a.Overlay,onClick:function(t){t.target===t.currentTarget&&e.onClose()},children:Object(n.jsxs)("div",{className:B.a.Modal,children:[Object(n.jsx)("img",{src:u,alt:j,onLoad:function(){i("loaded")}}),"loading"===r?Object(n.jsx)(S.a,{type:"RevolvingDot",color:"#00BFFF",height:100,width:100}):null]})}),k)},G=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],b=Object(c.useState)(null),m=Object(l.a)(b,2),h=m[0],d=m[1],g=Object(c.useState)(null),O=Object(l.a)(g,2),f=O[0],p=O[1];return Object(n.jsxs)(w,{children:[Object(n.jsx)(j,{onSubmitHandler:function(e){r(e)}}),Object(n.jsx)(I,{query:a,getContentForModal:function(e,t){d(e),p(t),u(!0)}}),s&&Object(n.jsx)(L,{src:h,alt:f,onClose:function(){u((function(e){return!e}))}})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root")),N()}},[[43,1,2]]]);
//# sourceMappingURL=main.c7b0c9ac.chunk.js.map